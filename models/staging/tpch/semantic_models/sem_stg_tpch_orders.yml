semantic_models:
- name: orders
  description: Staging layer for orders data, containing one row per order with details
    such as customer, status, and pricing.
  model: ref('stg_tpch_orders')
  defaults:
    agg_time_dimension: date
  entities:
  - name: orders
    type: primary
    expr: order_key
  dimensions:
  - name: date
    expr: order_date
    type: time
    type_params:
      time_granularity: day
  - name: status_code
    type: categorical
  - name: priority_code
    type: categorical
  - name: clerk_name
    type: categorical
  - name: ship_priority
    type: categorical
  - name: comment
    type: categorical
  measures:
  - name: total_price
    description: The total price of the order.
    agg: sum
    create_metric: true
  - name: count_order
    agg: count
    create_metric: true
    expr: order_key
  - name: count_customer
    agg: count_distinct
    create_metric: true
    expr: customer_key
